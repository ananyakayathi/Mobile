<!doctype html>
<html lang="en">
<head>
  <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PHJGLX3W');</script>
<!-- End Google Tag Manager -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Thank you â€” PixelMobile</title>
<style>
  :root{--bg:#071022;--accent:#06b6d4;--muted:#9fb4c7}
  body{margin:0;padding:18px;background:linear-gradient(180deg,#021426,#071a2b);color:#eaf6fb;font-family:Inter,system-ui,Roboto,Arial;display:flex;justify-content:center;align-items:center;min-height:100vh}
  .wrap{max-width:420px;width:100%}
  .card{background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);padding:22px;border-radius:16px;text-align:center;box-shadow:0 12px 40px rgba(0,0,0,0.6)}
  h1{margin:0;font-size:22px}
  p{color:var(--muted);font-size:15px}
  .order{margin-top:14px;background:rgba(255,255,255,0.02);padding:12px;border-radius:10px;text-align:left}
  .btn{
    margin-top:16px;padding:12px;border-radius:12px;border:0;background:linear-gradient(90deg,var(--accent),#7c3aed);color:#021124;font-weight:700;cursor:pointer;width:100%;
  }
  .muted{margin-top:10px;color:var(--muted)}
</style>
</head>
<body>
  <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PHJGLX3W"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
  <div class="wrap">
    <div class="card">
      <div style="font-size:36px">ðŸŽ‰</div>
      <h1>Thank you for your purchase!</h1>
      <p>Your mobile has been booked successfully.</p>

      <div class="order" id="orderBlock" style="display:none">
        <strong id="orderId"></strong>
        <div id="orderDetails" style="margin-top:8px;color:var(--muted)"></div>
      </div>

      <button class="btn" id="homeBtn">Back to Home</button>
      <div class="muted" id="mutedText">A confirmation was sent to your email (demo).</div>
    </div>
  </div>

<script>
  function loadOrder(){
    const last = localStorage.getItem('lastOrder');
    const checkout = localStorage.getItem('checkoutForm');
    if(last){
      try{
        const o = JSON.parse(last);
        document.getElementById('orderBlock').style.display = 'block';
        document.getElementById('orderId').textContent = 'Order ID: ' + o.id;
        document.getElementById('orderDetails').innerHTML = `
          Item: ${o.product.name} <br>
          Price: â‚¹${o.product.price.toLocaleString('en-IN')} <br>
          Buyer: ${o.buyer.name} â€¢ ${o.buyer.email}
        `;
      }catch(e){}
      // remove stored order after showing
      setTimeout(()=> localStorage.removeItem('lastOrder'), 3000);
    } else if(checkout){
      // if lastOrder missing but checkout exists (edge case)
      const b = JSON.parse(checkout);
      document.getElementById('orderBlock').style.display = 'block';
      document.getElementById('orderId').textContent = 'Reservation completed';
      document.getElementById('orderDetails').innerHTML = `Buyer: ${b.name} â€¢ ${b.email}`;
    }
  }

  document.getElementById('homeBtn').addEventListener('click', ()=>{
    // clear checkout data to simulate completion
    localStorage.removeItem('checkoutForm');
    location.href = 'index.html';
  });

  loadOrder();
</script>
</body>
</html>
